<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="../../../resources/templates/template.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="navigaion_content">
        <li><a href="../hrmsDashboard.xhtml" title="Dashboard"><i class="fa  fa-fw fa-dashboard"></i> <span>#{HRMS.Dashboard}</span></a></li>
        <li> <a  href="unplannedTrainingRequest.xhtml"> <i class="fa fa-circle-o"></i>#{HRMS.Unplanned_Training_Request}</a></li>
        <li> <a  href="unplannedTrainingApproval.xhtml"> <i class="fa fa-circle-o"></i>#{HRMS.Unplanned_Training_Approval}</a></li>
    </ui:define>
    <ui:define name="contents">
        <h:form id="frmTop"> 
            <p:toolbar style="background-color:white;border-color: white">
                <f:facet name="right">
                    <p:commandButton id="btnNew" action="#{empTrainingsController.createNewInfo()}" validateClient="true"
                                     icon="#{empTrainingsController.icone}" style="background-color: white; border-color: white" 
                                     process="@this" update="@this,:frmUnplannedTrainingRequest,:frmTop" 
                                     title="#{empTrainingsController.createOrSearchBundle}"  />
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <h:panelGroup id="pnlPlus"  rendered="#{empTrainingsController.btnNewRender}"> 
                        <p:commandButton validateClient="true" action="#{empTrainingsController.newButtonAction()}"
                                         icon="ui-icon-plus" style="background-color: white;border-color: white"  title="New record"
                                         process="@this" update=":frmUnplannedTrainingRequest,:frmTop" />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical"/>
                        </span>
                    </h:panelGroup>
                    <a href="../../hrms/training/trainingHistory.xhtml"><i class="fa fa-fw fa-refresh" title="#{HRMS.Refresh}"></i>  </a>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                        <a href="../../hrms/hrmsDashboard.xhtml"><i class="fa fa-fw fa-dashboard" title="#{HRMS.Dashboard}"></i>  </a>
                    <span class="ui-separator" >
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                        <a href="../../../HomePage.xhtml"><i class="fa fa-home" title="#{HRMS.Home_Page}"></i></a>
                </f:facet>
            </p:toolbar>
        </h:form>  
        <h:form id="frmUnplannedTrainingRequest"> 
            <p:growl id="growl2" showDetail="true" autoUpdate="true" severity="information,fatal"/>    
            <h:panelGroup style="border: 0px; background-color: transparent" id="pnlFindAll" rendered="#{empTrainingsController.renderPnlManPage}">
                <div class="row">
                    <div class="col-md-12">
                        <div class="box box-primary">
                            <div class="box-body ">
                                <div class="box-header with-border">  
                                    <h3 class="box-title">#{HRMS.Search}...  <small></small></h3> 
                                </div>
                                <div class="box-body ">
                                    <div class="box-body ">                                         
                                        <div class="col-md-12" >                                        
                                            <div class="col-sm-12">
                                                <div class="col-sm-12" >
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <div class="col-sm-12"> 
                                                                <div class="form-horizontal col-md-12">
                                                                    <div class="form-group form-horizontal form-group required">
                                                                        <h:outputLabel class="control-label col-sm-4" value="#{HRMS.Filter_Criteria}:"/>
                                                                        <div class="col-sm-8">
                                                                            <p:selectOneRadio id="txtRadio" class="col-sm-6" required="true" value="#{empTrainingsController.hrTdEmpTrainings.type}"
                                                                                              valueChangeListener="#{empTrainingsController.handleTraining}">
                                                                                <f:selectItem itemLabel="#{HRMS.Planned}" itemValue="1" />
                                                                                <f:selectItem itemLabel="#{HRMS.Unplanned}" itemValue="2" />    
                                                                                <p:ajax event="change" process="@this" update="frmUnplannedTrainingRequest"/>
                                                                            </p:selectOneRadio>
                                                                            <p:message for="txtRadio" display="icon"/>  
                                                                        </div>   
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <h:panelGroup id="pnlPlanned1" class="col-sm-12" rendered="#{empTrainingsController.plannedSearch}">
                                                            <div class="form-group">
                                                                <div class="col-sm-12">
                                                                    <div class="form-horizontal col-md-12">
                                                                        <div class="form-group form-horizontal form-group required">
                                                                            <h:outputLabel class="control-label col-sm-4" value="#{HRMS.Budget_Year}:"/>
                                                                            <div class="col-sm-8">
                                                                                <p:selectOneMenu id="plannedBudgetYear" value="#{empTrainingsController.hrTdAnnualNeedRequests.budgetYear}"
                                                                                                 valueChangeListener="#{empTrainingsController.plannedBYVCL}"
                                                                                                 filter="true" filterMatchMode="startsWith"  style="width:100%"
                                                                                                 required="true" requiredMessage="Select Budget Year">
                                                                                    <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                    <f:selectItems value="#{empTrainingsController.plannedBudgetYearList}"  />
                                                                                    <p:ajax event="change" process="@this" update="plannedTrainingCourses"/>
                                                                                </p:selectOneMenu> 
                                                                            </div>   
                                                                        </div>
                                                                    </div> 

                                                                    <div class="form-horizontal col-md-12">
                                                                        <div class="form-group form-horizontal form-group required">
                                                                            <h:outputLabel class="control-label col-sm-4" value="#{HRMS.Training_Needs}:"/>
                                                                            <div class="col-sm-8">
                                                                                <p:selectOneMenu id="plannedTrainingCourses" value="#{empTrainingsController.hrTdCourses}" 
                                                                                                 valueChangeListener="#{empTrainingsController.vclForPlanned}" 
                                                                                                 style="width:100%" converter="entConverter" 
                                                                                                 filter="true" filterMatchMode="startsWith"  required="true" requiredMessage="Select Training Course" >
                                                                                    <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                    <f:selectItems value="#{empTrainingsController.annCourseList}"  var="traning" itemLabel="#{traning.courseName}" /> 
                                                                                    <p:ajax event="change" process="@this" update="@this,dtTblPlannedInbox"/>
                                                                                </p:selectOneMenu> 
                                                                            </div>   
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div> 
                                                        </h:panelGroup> 
                                                        <h:panelGroup id="pnlUnplanned1" class="col-sm-12" rendered="#{empTrainingsController.unplannedSearch}">
                                                            <div class="form-group">
                                                                <div class="col-sm-12">
                                                                    <div class="form-horizontal col-md-12">
                                                                        <div class="form-group form-group required">
                                                                            <h:outputLabel class="control-label col-sm-4" value="#{HRMS.Budget_Year}:"/>
                                                                            <div class="col-sm-8">
                                                                                <p:selectOneMenu id="unplannedBudgetYear" value="#{empTrainingsController.hrTdUnplanTrainingRequest.budgetYear}"
                                                                                                 valueChangeListener="#{empTrainingsController.unplannnedBYVCL}"
                                                                                                 filter="true" filterMatchMode="startsWith"  style="width:100%"
                                                                                                 required="true" requiredMessage="Select Budget Year">
                                                                                    <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                    <f:selectItems value="#{empTrainingsController.unplannedBudgetYearList}" var="eva" 
                                                                                                   itemValue="#{eva}" itemLabel="#{eva}" />
                                                                                    <p:ajax event="change" process="@this" update="unplannedTrainingCourses"/>
                                                                                </p:selectOneMenu> 
                                                                            </div>   
                                                                        </div>
                                                                    </div> 
                                                                    <div class="form-horizontal col-md-12">
                                                                        <div class="form-group form-group required">
                                                                            <h:outputLabel class="control-label col-sm-4" value="#{HRMS.Training_Needs}:"/>
                                                                            <div class="col-sm-8">
                                                                                <p:selectOneMenu id="unplannedTrainingCourses" value="#{empTrainingsController.hrTdCourses}" 
                                                                                                 style="width:100%"   converter="entConverter" 
                                                                                                 filter="true" filterMatchMode="startsWith" required="true" requiredMessage="Select Training Course" 
                                                                                                 valueChangeListener="#{empTrainingsController.vclForUnplanned}" >
                                                                                    <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                    <f:selectItems value="#{empTrainingsController.unplannedcourseList}" var="course" itemValue="#{course}" itemLabel="#{course.courseName}"/> 
                                                                                    <p:ajax event="change" process="@this" update="@this,dtTblUnplannedInbox"/>
                                                                                </p:selectOneMenu> 
                                                                            </div>   
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup> 
                                                    </div>
                                                </div>
                                            </div>   
                                        </div>
                                    </div>
                                    <h:panelGroup id="pnlPlanned" class="col-sm-12" rendered="#{empTrainingsController.plannedSearch}">
                                        <div class="nav-tabs-custom">
                                            <ul class="nav nav-tabs" id="myTab">
                                                <li class="active" ><a data-toggle="tab" href="#inbox">#{HRMS.Inbox}</a></li>
                                                <li ><a data-toggle="tab" href="#response">#{HRMS.Response}</a></li>
                                            </ul>
                                            <div class="tab-content" id="maintab">
                                                <div class="tab-pane active" id="inbox">
                                                    <h:panelGroup id="pnlPlan">
                                                        <section class="panel panel-default">
                                                            <section class="panel-body" >                                       
                                                                <div class="col-sm-12">
                                                                    <div class="box box-primary ">
                                                                        <p:dataTable id="dtTblPlannedInbox" value="#{empTrainingsController.plannedTraineeList}"
                                                                                     var="plannedVar" selectionMode="single" rowIndexVar="num" rows="10" paginator="true" 
                                                                                     rowsPerPageTemplate="5,10,15" paginatorPosition="bottom" class="dataTable"
                                                                                     selection="#{empTrainingsController.hrTdAnnualTraParticipants}" rowKey="#{plannedVar.id}">
                                                                            <p:ajax event="rowSelect" listener="#{empTrainingsController.populatePlanned}" 
                                                                                    process="@this" update="@this,:frmUnplannedTrainingRequest,:frmTop"/>
                                                                            <f:facet name="header">
                                                                                <p:outputLabel value="" style=" font-size: 16px;"/>
                                                                            </f:facet>
                                                                            <p:column headerText="#{HRMS.No}" width="50">
                                                                                <h:outputText value="#{num + 1}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Employee_Name}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.firstName}">
                                                                                <h:outputText value="#{plannedVar.empId.firstName }"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Employee_ID}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.empId}">
                                                                                <h:outputText value="#{plannedVar.empId.empId}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Job_Title}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.jobId.jobTitle}">
                                                                                <h:outputText value="#{plannedVar.empId.jobId.jobTitle}"/>
                                                                            </p:column>
                                                                        </p:dataTable>
                                                                    </div>
                                                                </div> 
                                                            </section>
                                                        </section>
                                                    </h:panelGroup> 
                                                </div>
                                                <div class="tab-pane" id="response">
                                                    <h:panelGroup id="trainingPlan">
                                                        <section class="panel panel-default">
                                                            <section class="panel-body" >                                      
                                                                <div class="col-sm-12">
                                                                    <div class="box box-primary ">
                                                                        <p:dataTable id="dtTblPlannedResponse" value="#{empTrainingsController.plannedResponseList}"
                                                                                     var="plannedVar" selectionMode="single" rowIndexVar="num" rows="10" paginator="true" 
                                                                                     rowsPerPageTemplate="5,10,15" paginatorPosition="bottom" class="dataTable"
                                                                                     selection="#{empTrainingsController.hrTdEmpTrainings}" rowKey="#{plannedVar.id}">
                                                                            <p:ajax event="rowSelect" listener="#{empTrainingsController.populatePlanned}" 
                                                                                    process="@this" update=":frmUnplannedTrainingRequest"/>
                                                                            <f:facet name="header">
                                                                                <p:outputLabel value="" style=" font-size: 16px;"/>
                                                                            </f:facet>
                                                                            <p:column headerText="#{HRMS.No}" width="50">
                                                                                <h:outputText value="#{num + 1}"/>
                                                                            </p:column>
                                                                            <p:column headerText=" #{HRMS.Employee_Name}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.firstName}">
                                                                                <h:outputText value="#{plannedVar.empId.firstName }"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Employee_ID}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.empId}">
                                                                                <h:outputText value="#{plannedVar.empId.empId}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Job_Title}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.jobId.jobTitle}">
                                                                                <h:outputText value="#{plannedVar.empId.jobId.jobTitle}"/>
                                                                            </p:column>
                                                                        </p:dataTable>
                                                                    </div>
                                                                </div> 
                                                            </section>
                                                        </section>
                                                    </h:panelGroup>     
                                                </div>    
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                    <h:panelGroup id="pnlUnplanned" class="col-sm-12" rendered="#{empTrainingsController.unplannedSearch}">
                                        <div class="nav-tabs-custom">
                                            <ul class="nav nav-tabs" id="myTab">
                                                <li class="active" ><a data-toggle="tab" href="#inbox">#{HRMS.Inbox}</a></li>
                                                <li ><a data-toggle="tab" href="#response">#{HRMS.Response}</a></li>
                                            </ul>
                                            <div class="tab-content" id="maintab">
                                                <div class="tab-pane active" id="inbox">
                                                    <h:panelGroup id="pnlUnplan">
                                                        <section class="panel panel-default">
                                                            <section class="panel-body" >                                       
                                                                <div class="col-sm-12">
                                                                    <div class="box box-primary ">
                                                                        <p:dataTable id="dtTblUnplannedInbox" value="#{empTrainingsController.traineeList}"
                                                                                     var="plannedVar" selectionMode="single" rowIndexVar="num" rows="10" paginator="true" 
                                                                                     rowsPerPageTemplate="10,20,30" paginatorPosition="bottom" class="dataTable"
                                                                                     selection="#{empTrainingsController.hrTdUnplanTraParticipant}" rowKey="#{plannedVar.id}">
                                                                            <p:ajax event="rowSelect" listener="#{empTrainingsController.populateUplanned}" 
                                                                                    process="@this" update="@this,:frmUnplannedTrainingRequest,:frmTop"/>
                                                                            <f:facet name="header">
                                                                                <p:outputLabel value="" style=" font-size: 16px;"/>
                                                                            </f:facet>
                                                                            <p:column headerText="#{HRMS.No}" width="50">
                                                                                <h:outputText value="#{num + 1}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Employee_Name}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.firstName}">
                                                                                <h:outputText value="#{plannedVar.empId.firstName }"/>
                                                                            </p:column> 
                                                                            <p:column headerText="#{HRMS.Employee_ID}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.empId}">
                                                                                <h:outputText value="#{plannedVar.empId.empId}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Job_Title}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.jobId.jobTitle}">
                                                                                <h:outputText value="#{plannedVar.empId.jobId.jobTitle}"/>
                                                                            </p:column>
                                                                        </p:dataTable>
                                                                    </div>
                                                                </div> 
                                                            </section>
                                                        </section>
                                                    </h:panelGroup> 
                                                </div>
                                                <div class="tab-pane" id="response">
                                                    <h:panelGroup id="trainingUnplan">
                                                        <section class="panel panel-default">
                                                            <section class="panel-body" >                                      
                                                                <div class="col-sm-12">
                                                                    <div class="box box-primary ">
                                                                        <p:dataTable id="dtTblUnplannedResponse" value="#{empTrainingsController.unplannedResponseList}"
                                                                                     var="plannedVar" selectionMode="single" rowIndexVar="num" rows="10" paginator="true" 
                                                                                     rowsPerPageTemplate="10,20,30" paginatorPosition="bottom" class="dataTable"
                                                                                     selection="#{empTrainingsController.hrTdEmpTrainings}" rowKey="#{plannedVar.id}">
                                                                            <p:ajax event="rowSelect" listener="#{empTrainingsController.populateUplanned}" 
                                                                                    process="@this" update=":frmUnplannedTrainingRequest"/>
                                                                            <f:facet name="header">
                                                                                <p:outputLabel value="" style=" font-size: 16px;"/>
                                                                            </f:facet>
                                                                            <p:column headerText="#{HRMS.No}" width="50">
                                                                                <h:outputText value="#{num + 1}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Employee_Name}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.firstName}">
                                                                                <h:outputText value="#{plannedVar.empId.firstName }"/>
                                                                            </p:column> 
                                                                            <p:column headerText="#{HRMS.Employee_ID}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.empId}">
                                                                                <h:outputText value="#{plannedVar.empId.empId}"/>
                                                                            </p:column>
                                                                            <p:column headerText="#{HRMS.Job_Title}" filterMatchMode="startsWith" filterBy="#{plannedVar.empId.jobId.jobTitle}">
                                                                                <h:outputText value="#{plannedVar.empId.jobId.jobTitle}"/>
                                                                            </p:column>
                                                                        </p:dataTable>
                                                                    </div>
                                                                </div> 
                                                            </section>
                                                        </section>
                                                    </h:panelGroup>     
                                                </div>    
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                </div>
                            </div>
                        </div>
                    </div>  
                </div> 
            </h:panelGroup>
            <h:panelGroup id="pnlRequestAll" rendered="#{empTrainingsController.renderPnlCreateGatePass}">
                <div class="row">
                    <div class="col-md-12">
                        <div class="box box-primary "> 
                            <div class="box-header with-border" >
                                <h3 class="box-title">
                                    <h3 class="box-title" style="margin-left: 15px;">#{HRMS.Employee_Training_History} </h3>
                                </h3>                       
                            </div>  
                            <div class="box-body ">
                                <div class="box-body ">         
                                    <div class="nav-tabs-custom">
                                        <div class="tab-content" id="maintab">
                                            <div class="tab-pane active" id="tabPersonal">
                                                <section class="panel panel-info">
                                                    <section class="panel-body">  
                                                        <h:panelGroup id="pnlMaster" class="col-sm-12">
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body"> 
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdSearchBy" class="control-label col-sm-4" value="#{HRMS.Search_By}:" title="Filter Criteria"/> 
                                                                                    <div class="col-sm-8">
                                                                                        <p:selectOneRadio id="drdSearchBy" value="#{empTrainingsController.selectedEmp}"
                                                                                                          valueChangeListener="#{empTrainingsController.searchCriteria}" 
                                                                                                          class="col-sm-10" >
                                                                                            <f:selectItem itemLabel="#{HRMS.Employee_ID}" itemValue="Employee ID"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Employee_Name}" itemValue="Employee Name"/>
                                                                                            <p:ajax event="change" process="@this" update=":frmUnplannedTrainingRequest"/>
                                                                                        </p:selectOneRadio>
                                                                                    </div>
                                                                                </div>                                               
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtParticipantId" class="control-label col-sm-4" title="Participant Id" value="#{HRMS.Participant_Id}:" />  
                                                                                    <div class="col-md-8 textBoxMargin6px"> 
                                                                                        <p:autoComplete id="txtParticipantId"  style="width: 100%" value="#{empTrainingsController.hrEmployees.empId}"
                                                                                                        completeMethod="#{empTrainingsController.searchEmployeeById}" var="sucList" 
                                                                                                        title="Participant Name" requiredMessage="Participant Name" placeholder="Search by Id"
                                                                                                        itemValue="#{sucList.empId}" itemLabel="#{sucList}" forceSelection="true" size="20" emptyMessage="no data"
                                                                                                        disabled="#{empTrainingsController.disableEmpID}"> 
                                                                                            <p:column headerText="#{HRMS.Participant_Id}">
                                                                                                <h:outputText value="#{sucList.empId}"/>
                                                                                            </p:column>
                                                                                            <p:column headerText="#{HRMS.Participant_Name}">
                                                                                                <h:outputText value="#{sucList.firstName} #{sucList.middleName} #{sucList.lastName}"/>
                                                                                            </p:column>
                                                                                            <p:ajax event="itemSelect"
                                                                                                    listener="#{empTrainingsController.getById}" 
                                                                                                    process="@this" update="@this,txtParticipantName,txtSex,txtJobPosition,tblDetailPlanSearch"/>
                                                                                        </p:autoComplete> 
                                                                                        <p:message for="txtParticipantId" display="icon"/>
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtParticipantName" class="control-label col-sm-4" title="Participant Name" value="#{HRMS.Participant_Name}:" />  
                                                                                    <div class="col-md-8 textBoxMargin6px"> 
                                                                                        <p:autoComplete id="txtParticipantName"  style="width: 100%" value="#{empTrainingsController.hrEmployees}"
                                                                                                        completeMethod="#{empTrainingsController.searchEmployeeByName}" var="sucList" converter="entConverter"
                                                                                                        title="Participant Name" requiredMessage="Participant Name" placeholder="Search by Name"
                                                                                                        itemValue="#{sucList}" itemLabel="#{sucList.firstName}" forceSelection="true" size="20" emptyMessage="no data"
                                                                                                        disabled="#{empTrainingsController.disableEmpName}">  
                                                                                            <p:column headerText="#{HRMS.Participant_Name}">
                                                                                                <h:outputText value="#{sucList.firstName} #{sucList.middleName} #{sucList.lastName}"/>
                                                                                            </p:column>
                                                                                            <p:column headerText="#{HRMS.Participant_Id}">
                                                                                                <h:outputText value="#{sucList.empId}"/>
                                                                                            </p:column>
                                                                                            <p:ajax event="itemSelect"
                                                                                                    listener="#{empTrainingsController.getByFirstName}" 
                                                                                                    process="@this" update="@this,txtParticipantId,txtSex,txtJobPosition,tblDetailPlanSearch"/>
                                                                                        </p:autoComplete> 
                                                                                        <p:message for="txtParticipantName" display="icon"/>
                                                                                    </div> 
                                                                                </div>
                                                                            </div>

                                                                        </div>   
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel   for="txtSex"  class="col-md-4 control-label" title="Sex" value="#{HRMS.Gender}:"/>
                                                                                    <div class="col-md-8 textBoxMargin6px">
                                                                                        <p:inputText id="txtSex" value="#{empTrainingsController.hrEmployees.sex}" readonly="true"/>
                                                                                        <p:message for="txtSex" display="icon"/>
                                                                                    </div>
                                                                                </div>    
                                                                            </div>

                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel  for="txtJobPosition" class="col-md-4 control-label" title="Job Title" value="#{HRMS.Job_Title}:"/>
                                                                                    <div class="col-md-8 textBoxMargin6px">
                                                                                        <p:inputText id="txtJobPosition" value="#{empTrainingsController.hrJobTypes.jobTitle}" readonly="true"/>
                                                                                        <p:message for="txtJobPosition" display="icon"/>
                                                                                    </div>    
                                                                                </div> 
                                                                            </div>  
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>
                                                    </section>
                                                </section>
                                                <h3 class="box-title">
                                                    <h4 class="box-title" style="margin-left: 15px;">#{HRMS.Assigned_Training_For_Employee} </h4>
                                                </h3>
                                                <section class="panel panel-info">
                                                    <section class="panel-body"> 
                                                        <h:panelGroup id="pnlDetailPlan" class="col-sm-12" style="border: 0px; background-color: transparent" rendered="#{empTrainingsController.plannnedCourse}">
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body"> 
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdTrainingCatagory" class="control-label col-sm-4" title="Training Catagory" value="#{HRMS.Category}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdTrainingCatagory" value="#{empTrainingsController.hrLuTrainingCategory.id}"
                                                                                                         valueChangeListener="#{empTrainingsController.trainingCatagoryVCL}"
                                                                                                         style="width:100%" converter="entConverter" disabled="true" >
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.trainingCatagoryList}" 
                                                                                                           var="catagory" itemValue="#{catagory.id}" itemLabel="#{catagory.categoryName}"/> 
                                                                                            <p:ajax event="change" process="@this,drdTrainingCatagory" update="drdTrainingCatagory,drdTrainingCourse"/>
                                                                                        </p:selectOneMenu>
                                                                                    </div>     
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdTrainingCourse" class="control-label col-sm-4" title="Training Course" value="#{HRMS.Training_Course}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdTrainingCourse" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.trainingId}" 
                                                                                                         valueChangeListener="#{empTrainingsController.trainingCourseVCL}" 
                                                                                                         style="width:100%" converter="entConverter"  disabled="true">
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.trainningCourseList}" var="evaCriteria1"  
                                                                                                           itemValue="#{evaCriteria}" itemLabel="#{evaCriteria1.courseName}"/> 
                                                                                        </p:selectOneMenu>
                                                                                    </div>     
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdInstitution" class="control-label col-sm-4" title="Institution" value="#{HRMS.Institution}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdInstitution" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.institutionId}" 
                                                                                                         valueChangeListener="#{empTrainingsController.institutionVCL}" 
                                                                                                         style="width:100%" converter="entConverter" disabled="true" >
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.institutionList}" var="evaCriteria" 
                                                                                                           itemValue="#{evaCriteria}" itemLabel="#{evaCriteria.institutionName}"/> 
                                                                                        </p:selectOneMenu> 
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal form-group required">
                                                                                    <h:outputLabel   class="col-md-4 control-label" title="Training Status:" value="#{HRMS.Training_Status}:" /> 
                                                                                    <div class="col-md-8 textBoxMargin6px">
                                                                                        <p:selectOneMenu id="txtDecision" value="#{empTrainingsController.hrTdEmpTrainings.status}" 
                                                                                                         required="true" requiredMessage="Select Desition" style="width: 100%">
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" />
                                                                                            <f:selectItem itemLabel="#{HRMS.Attending}" itemValue="1"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Completed}" itemValue="2"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Canceled}" itemValue="3"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Failed}" itemValue="4"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Not_Show}" itemValue="5"/>
                                                                                            <p:ajax process="@this" event="change"/>
                                                                                        </p:selectOneMenu>
                                                                                        <p:message for="txtDecision" display="icon"/>
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtStartdate" class="col-md-4 control-label" title="Start Date" value="#{HRMS.Start_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtStartdate" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.tentativeStartDate}"
                                                                                                     readonly="true"/>
                                                                                        <p:message for="txtStartdate" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtEnddate" class="col-md-4 control-label" title="End Date" value="#{HRMS.End_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtEnddate" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.tentativeEndDate}"
                                                                                                     readonly="true"/>
                                                                                        <p:message for="txtEnddate" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtSponseredBy" class="col-md-4 control-label" title="Sponsered By" value="#{HRMS.Sponsered_By}:"/>
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtSponseredBy" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.sponsoredBy}"
                                                                                                     readonly="true"/>
                                                                                        <p:message for="txtSponseredBy" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel  for="txtRemark" class="control-label col-sm-4" title="Remark" value="#{HRMS.Remark}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">
                                                                                        <h:inputTextarea id="txtRemark"  class="form-control" value="#{empTrainingsController.hrTdAnnualTrainingNeeds.remark}"
                                                                                                         readonly="true"/>
                                                                                        <p:message for="txtRemark" display="icon"/> 
                                                                                    </div>
                                                                                </div>
                                                                            </div> 
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="panel-body col-sm-12">
                                                                <div class="form-group col-sm-12">
                                                                    <div class="col-sm-6">
                                                                        <div class="col-sm-12 form-horizontal">
                                                                            <div class="col-sm-4"></div>                                           
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnSave" value="#{HRMS.save}"
                                                                                                 action="#{empTrainingsController.saveEmployeeTrainingHistory()}"
                                                                                                 class="btn  btn-block btn-primary col-lg-4"
                                                                                                 process="@this,:frmUnplannedTrainingRequest"                                       
                                                                                                 update="@this,:frmUnplannedTrainingRequest"/>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnReset1" value="#{HRMS.Reset}"                                             
                                                                                                 action="#{empTrainingsController.resetEmployeeTrainingHistory()}"
                                                                                                 class="btn  btn-block btn-primary" 
                                                                                                 process="@this" update=":frmUnplannedTrainingRequest" /> 
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body">    
                                                                        <div class="col-md-12">  
                                                                            <div class="col-md-12" style="margin-top:10px;">
                                                                                <div class="form-group">
                                                                                    <p:dataTable id="tblDetailP" value="#{empTrainingsController.empHistoryDataModel}"
                                                                                                 var="planDetails"  rowIndexVar="num" class="dataTable" rows="5" paginator="true" selectionMode="single"
                                                                                                 selection="#{empTrainingsController.selectedEmpTrainings}" rowKey="#{planDetails.id}" paginatorPosition="bottom">
                                                                                        <p:ajax event="rowSelect" listener="#{empTrainingsController.editStatus}" process="@this,:frmUnplannedTrainingRequest:tblDetailP"
                                                                                                update="@this,:frmUnplannedTrainingRequest:pnlDetailPlan"/>
                                                                                        <p:column headerText="#{HRMS.No}">
                                                                                            #{num+1}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Course}">
                                                                                            #{planDetails.trainingId.courseName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Status}">
                                                                                            #{planDetails.changedStstus}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Type}">
                                                                                            #{planDetails.changedType}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Institution}">
                                                                                            #{planDetails.insId.institutionName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Start_Date}">
                                                                                            #{planDetails.startDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.End_Date}">
                                                                                            #{planDetails.endDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Sponsered_By}">
                                                                                            #{planDetails.sponsoredBy}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Remark}">
                                                                                            #{planDetails.remark}
                                                                                        </p:column>
                                                                                    </p:dataTable>
                                                                                </div>
                                                                            </div>
                                                                        </div>               
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>
                                                        <h:panelGroup id="pnlDetailP" class="col-sm-12" style="border: 0px; background-color: transparent"  rendered="#{empTrainingsController.unplannedCourse}">
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body"> 
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdTrainingCatagorylan" class="control-label col-sm-4" title="Training " value="#{HRMS.Category}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdTrainingCatagorylan" value="#{empTrainingsController.hrLuTrainingCategory.id}"
                                                                                                         valueChangeListener="#{empTrainingsController.trainingCatagoryVCL}"
                                                                                                         style="width:100%" converter="entConverter" disabled="true" >
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.trainingCatagoryList}" 
                                                                                                           var="catagory" itemValue="#{catagory.id}" itemLabel="#{catagory.categoryName}"/> 
                                                                                            <p:ajax event="change" process="@this,drdTrainingCatagorylan" update="drdTrainingCatagorylan,drdTrainingCourselan"/>
                                                                                        </p:selectOneMenu>
                                                                                    </div>     
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdTrainingCourselan" class="control-label col-sm-4" title="Training Course" value="#{HRMS.Training_Course}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdTrainingCourselan" value="#{empTrainingsController.hrTdUnplanTrainingRequest.trainingId}" 
                                                                                                         valueChangeListener="#{empTrainingsController.trainingCourseVCL}" 
                                                                                                         style="width:100%" converter="entConverter" 
                                                                                                         filter="true" filterMatchMode="startsWith" disabled="true" >
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.trainningCourseList}" var="evaCriteria1" 
                                                                                                           itemValue="#{evaCriteria}" itemLabel="#{evaCriteria1.courseName}"/> 
                                                                                        </p:selectOneMenu>
                                                                                    </div>     
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdInstitutionlan" class="control-label col-sm-4" title="Institution" value="#{HRMS.Institution}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">                                                       
                                                                                        <p:selectOneMenu id="drdInstitutionlan" value="#{empTrainingsController.hrTdUnplanTrainingRequest.institutionId}" 
                                                                                                         valueChangeListener="#{empTrainingsController.institutionVCL}" 
                                                                                                         style="width:100%" converter="entConverter" disabled="true" >
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" itemValue=""/>
                                                                                            <f:selectItems value="#{empTrainingsController.institutionList}" var="evaCriteria" 
                                                                                                           itemValue="#{evaCriteria}" itemLabel="#{evaCriteria.institutionName}"/> 
                                                                                        </p:selectOneMenu> 
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal form-group required">
                                                                                    <h:outputLabel   class="col-md-4 control-label" title="Training Status:" value="#{HRMS.Training_Status}:" /> 
                                                                                    <div class="col-md-8 textBoxMargin6px">
                                                                                        <p:selectOneMenu id="txtDecisionlan" value="#{empTrainingsController.hrTdEmpTrainings.status}" 
                                                                                                         required="true" requiredMessage="Select Desition" style="width: 100%">
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" />
                                                                                            <f:selectItem itemLabel="#{HRMS.Attending}" itemValue="1"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Completed}" itemValue="2"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Cancelled}" itemValue="3"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Failed}" itemValue="4"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Not_Show}" itemValue="5"/>
                                                                                            <p:ajax process="@this" event="change"/>
                                                                                        </p:selectOneMenu>
                                                                                        <p:message for="txtDecisionlan" display="icon"/>
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtStartdatelan" class="col-md-4 control-label" title="Start Date" value="#{HRMS.Start_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtStartdatelan" value="#{empTrainingsController.hrTdUnplanTrainingRequest.startDate}" readonly="true"/>
                                                                                        <p:message for="txtStartdatelan" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txEnddatelan" class="col-md-4 control-label" title="End Date" value="#{HRMS.End_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txEnddatelan" value="#{empTrainingsController.hrTdUnplanTrainingRequest.endDate}" readonly="true"/>
                                                                                        <p:message for="txEnddatelan" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtSponseredBylan" class="col-md-4 control-label" title="Sponsered By" value="#{HRMS.Sponsered_By}:"/>
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtSponseredBylan" value="#{empTrainingsController.hrTdUnplanTrainingRequest.sponsoredBy}" readonly="true"/>
                                                                                        <p:message for="txtSponseredBylan" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel  for="txtRemarklan" class="control-label col-sm-4" title="Remark" value="#{HRMS.Remark}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">
                                                                                        <h:inputTextarea id="txtRemarklan"  class="form-control" value="#{empTrainingsController.hrTdUnplanTrainingRequest.remark}"
                                                                                                         readonly="true"/>
                                                                                        <p:message for="txtRemarklan" display="icon"/> 
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="panel-body col-sm-12">
                                                                <div class="form-group col-sm-12">
                                                                    <div class="col-sm-6">
                                                                        <div class="col-sm-12 form-horizontal">
                                                                            <div class="col-sm-4"></div>                                           
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnSaves" value="#{HRMS.save}"
                                                                                                 action="#{empTrainingsController.saveEmployeeTrainingHistory()}"
                                                                                                 class="btn  btn-block btn-primary col-lg-4"
                                                                                                 process="@this,:frmUnplannedTrainingRequest"                                       
                                                                                                 update="@this,:frmUnplannedTrainingRequest"/>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnResets" value="#{HRMS.Reset}" class="btn  btn-block btn-primary"                                             
                                                                                                 action="#{empTrainingsController.resetEmployeeTrainingHistory()}"
                                                                                                 process="@this" 
                                                                                                 update=":frmUnplannedTrainingRequest" /> 
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body">    
                                                                        <div class="col-md-12">  
                                                                            <div class="col-md-12" style="margin-top:10px;">
                                                                                <div class="form-group">
                                                                                    <p:dataTable id="tblDetailPlan" value="#{empTrainingsController.empHistoryDataModel}"
                                                                                                 var="planDetails"  rowIndexVar="num" class="dataTable" rows="5" paginator="true" selectionMode="single"
                                                                                                 selection="#{empTrainingsController.selectedEmpTrainings}" rowKey="#{planDetails.id}" paginatorPosition="bottom">
                                                                                        <p:ajax event="rowSelect" listener="#{empTrainingsController.editStatus}" process="@this,:frmUnplannedTrainingRequest:tblDetailPlan"
                                                                                                update="@this,:frmUnplannedTrainingRequest:pnlDetailP"/>
                                                                                        <p:column headerText="#{HRMS.No}">
                                                                                            #{num+1}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Course}">
                                                                                            #{planDetails.trainingId.courseName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Status}">
                                                                                            #{planDetails.changedStstus}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Type}">
                                                                                            #{planDetails.changedType}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Institution}">
                                                                                            #{planDetails.insId.institutionName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Start_Date}">
                                                                                            #{planDetails.startDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.End_Date}">
                                                                                            #{planDetails.endDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Sponsered_By}">
                                                                                            #{planDetails.sponsoredBy}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Remark}">
                                                                                            #{planDetails.remark}
                                                                                        </p:column>
                                                                                    </p:dataTable>
                                                                                </div>
                                                                            </div>
                                                                        </div>               
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>
                                                        <h:panelGroup id="pnlsearch" class="col-sm-12" style="border: 0px; background-color: transparent"  rendered="#{empTrainingsController.updateTrainner}">
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body"> 
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdTrainingCourselanSearchch" class="col-md-4 control-label" title="Training Course" value="#{HRMS.Training_Course}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="drdTrainingCourselanSearchch" value="#{empTrainingsController.hrTdEmpTrainings.trainingId.courseName}" 
                                                                                                     readonly="true"/>
                                                                                        <p:message for="drdTrainingCourselanSearchch" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="drdInstitutionlanSearch" class="control-label col-sm-4" title="Institution" value="#{HRMS.Institution}:"/>
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="drdInstitutionlanSearch" value="#{empTrainingsController.hrTdEmpTrainings.insId.institutionName}" 
                                                                                                     readonly="true"/>
                                                                                        <p:message for="drdInstitutionlanSearch" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel   class="col-md-4 control-label" title="Training Status:" value="#{HRMS.Training_Status}:" /> 
                                                                                    <div class="col-md-8 textBoxMargin6px">
                                                                                        <p:selectOneMenu id="txtDecisionlanSearch" value="#{empTrainingsController.hrTdEmpTrainings.status}"
                                                                                                         required="true" requiredMessage="Select Desition" style="width: 100%">
                                                                                            <f:selectItem itemLabel="--- #{HRMS.select} ---" />
                                                                                            <f:selectItem itemLabel="#{HRMS.Attending}" itemValue="1"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Completed}" itemValue="2"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Cancelled}" itemValue="3"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Failed}" itemValue="4"/>
                                                                                            <f:selectItem itemLabel="#{HRMS.Not_Show}" itemValue="5"/>
                                                                                            <p:ajax process="@this" event="change"/>
                                                                                        </p:selectOneMenu>
                                                                                        <p:message for="txtDecisionlanSearch" display="icon"/>
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtStartdatelanSearch" class="col-md-4 control-label" title="Start Date" value="#{HRMS.Start_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtStartdatelanSearch" value="#{empTrainingsController.hrTdEmpTrainings.startDate}"
                                                                                                     readonly="true"/>
                                                                                        <p:message for="txtStartdatelanSearch" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtEnddatelanSearch" class="col-md-4 control-label" title="End Date" value="#{HRMS.End_Date}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtEnddatelanSearch" value="#{empTrainingsController.hrTdEmpTrainings.endDate}"
                                                                                                     readonly="true"/>
                                                                                        <p:message for="txtEnddatelanSearch" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel for="txtSponseredBylanSearch" class="col-md-4 control-label" title="Sponsered By" value="#{HRMS.Sponsered_By}:" />
                                                                                    <div class="col-sm-8"> 
                                                                                        <p:inputText id="txtSponseredBylanSearch" value="#{empTrainingsController.hrTdEmpTrainings.sponsoredBy}" readonly="true" />
                                                                                        <p:message for="txtSponseredBylanSearch" display="icon"/> 
                                                                                    </div> 
                                                                                </div>
                                                                            </div> 
                                                                            <div class="col-md-12 textBoxMargin6px">
                                                                                <div class="form-group form-horizontal">
                                                                                    <h:outputLabel  for="txtRemarklanSearch" class="control-label col-sm-4" title="Remark" value="#{HRMS.Remark}:"/>
                                                                                    <div class="col-sm-8 textBoxMargin6px">
                                                                                        <h:inputTextarea id="txtRemarklanSearch"  class="form-control" value="#{empTrainingsController.hrTdEmpTrainings.remark}" readonly="true"/>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-sm-12">
                                                                <div class="col-sm-6">
                                                                    <div class="col-sm-12 form-horizontal">
                                                                        <div class="col-sm-4"></div>                                           
                                                                        <div class="col-sm-3">
                                                                            <p:commandButton id="btnAdd" class="btn  btn-block btn-primary"                                             
                                                                                             action="#{empTrainingsController.addToDataTable}" 
                                                                                             value="#{empTrainingsController.localBeanObj.addOrModify}"
                                                                                             process="pnlsearch"
                                                                                             update="@this,tblDetailPlanSearch,pnlsearch"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12">                      
                                                                    <div class="box-body">    
                                                                        <div class="col-md-12">  
                                                                            <div class="col-md-12" style="margin-top:10px;">
                                                                                <div class="form-group">
                                                                                    <p:dataTable id="tblDetailPlanSearch" value="#{empTrainingsController.empHistoryDataModelUpdate}"
                                                                                                 var="planDetails"  rowIndexVar="num" class="dataTable" rows="5" paginator="true" selectionMode="single"
                                                                                                 selection="#{empTrainingsController.selectedEmpTrainings}" rowKey="#{planDetails.id}" paginatorPosition="bottom">
                                                                                        <p:ajax event="rowSelect" listener="#{empTrainingsController.edit}" process="@this,:frmUnplannedTrainingRequest:tblDetailPlanSearch"
                                                                                                update="@this,:frmUnplannedTrainingRequest:pnlsearch"/>
                                                                                        <p:column headerText="#{HRMS.No}">
                                                                                            #{num+1}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Course}">
                                                                                            #{planDetails.trainingId.courseName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Training_Status}">
                                                                                            #{planDetails.changedStstus}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Type}">
                                                                                            #{planDetails.changedType}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Institution}">
                                                                                            #{planDetails.insId.institutionName}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Start_Date}">
                                                                                            #{planDetails.startDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.End_Date}">
                                                                                            #{planDetails.endDate}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Sponsered_By}">
                                                                                            #{planDetails.sponsoredBy}
                                                                                        </p:column>
                                                                                        <p:column headerText="#{HRMS.Remark}">
                                                                                            #{planDetails.remark}
                                                                                        </p:column>
                                                                                    </p:dataTable>
                                                                                </div>
                                                                            </div>
                                                                        </div>               
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="panel-body col-sm-12">
                                                                <div class="form-group col-sm-12">
                                                                    <div class="col-sm-6">
                                                                        <div class="col-sm-12 form-horizontal">
                                                                            <div class="col-sm-4"></div>                                           
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnUpdate" value="#{HRMS.Update}"
                                                                                                 action="#{empTrainingsController.updateEmployeeTrainingHistory()}"
                                                                                                 class="btn  btn-block btn-primary col-lg-4"
                                                                                                 process="@this" update="@this,:frmUnplannedTrainingRequest"/>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <p:commandButton id="btnReset" value="#{HRMS.Reset}"                                              
                                                                                                 action="#{empTrainingsController.resetEmployeeTrainingHistory()}"
                                                                                                 class="btn  btn-block btn-primary"
                                                                                                 process="@this"  update=":frmUnplannedTrainingRequest" /> 
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>
                                                    </section>
                                                </section>  
                                            </div>  
                                        </div>
                                    </div>                           
                                </div>  
                            </div>
                        </div>                   
                    </div>
                </div>
            </h:panelGroup>                           
        </h:form>
    </ui:define>
</ui:composition>

